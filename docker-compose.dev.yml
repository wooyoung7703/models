version: "3.9"
services:
  backend:
    environment:
      - LOG_LEVEL=DEBUG
      - DISABLE_BACKGROUND_LOOPS=1
    # Mount source for fast iteration
    volumes:
      - ./backend:/app/backend
      - ./backend/data:/app/backend/data
    # Enable auto-reload in dev
    command: [
      "python",
      "-m",
      "uvicorn",
      "backend.app.main:app",
      "--host","0.0.0.0",
      "--port","8000",
      "--reload"
    ]
